# 變更日誌 (Changelog)

## [1.0.4] - 2025-12-01

### ✨ 新增功能 (Features)
*   **自動資料清理**: 系統啟動時會自動刪除 90 天前的舊排班資料，優化效能。
*   **錯誤防護網 (Error Boundary)**: 
    *   攔截未預期的 React 渲染錯誤。
    *   提供友善的錯誤提示畫面。
    *   **緊急備份功能**: 即使程式崩潰，也能透過「緊急備份」按鈕直接從 LocalStorage 救出資料。
*   **個人班表增強**: 匯出個人班表時，現在會顯示「科別」與「負責醫師」資訊 (格式: `(科別/醫師)`)。

### 🐛 錯誤修復 (Bug Fixes)
*   **資料完整性**: 修復 JSON 匯出/匯入功能，補回遺漏的 `shiftDoctors` (診次醫師設定) 資料。
*   **UI 一致性**: 統一所有設定彈窗的「儲存」按鈕樣式 (藍色背景 + Save Icon)。

### 📝 文件與代碼品質 (Documentation & Code Quality)
*   **JSDoc**: 為核心資料結構 (`Employee`, `ShiftRule`) 與關鍵函式加入型別註解。
*   **架構文件**: 新增 `docs/ARCHITECTURE.md`。

---
